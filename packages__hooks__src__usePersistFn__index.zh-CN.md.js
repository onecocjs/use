(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15,11,12,13,14],{FmYm:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("ODXe"),c=t("q1tI"),u=t.n(c),o=t("qPJ8");n["default"]=function(){var e=Object(c["useState"])(0),n=Object(r["a"])(e,2),t=n[0],s=n[1],i=Object(o["c"])((()=>{s(t+1)}),{action:"debounce"});return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,t),u.a.createElement(a["a"],{type:"primary",onClick:i},"\u8fde\u7eed\u70b9\u51fb"))}},RQnF:function(e,n,t){"use strict";t.r(n);var a=t("wx14"),r=t("q1tI"),c=t.n(r),u=(t("B2uJ"),t("+su7"),t("qOys"),t("5Yjd")),o=t.n(u),s=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("fQck")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),i=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("FmYm")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),l=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("bbyW")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),d=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("leNw")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"usepersistfn"},c.a.createElement("a",{"aria-hidden":"true",href:"#usepersistfn"},c.a.createElement("span",{className:"icon icon-link"})),"usePersistFn"),c.a.createElement("p",null,"\u4fdd\u8bc1\u51fd\u6570\u5bf9\u8c61\u6c38\u8fdc\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u4ece\u800c\u4e0d\u4f1a\u56e0\u4e3a\u51fd\u6570\u5bfc\u81f4\u89e6\u53d1\u51fd\u6570\u65e0\u610f\u4e49\u7684\u6e32\u67d3\u3002\u540c\u65f6\u63d0\u4f9b\u8282\u6d41\u3001\u9632\u6296\u3001\u9501\u5b9a\u7b49\u529f\u80fd\u3002"),c.a.createElement("h1",{id:"\u4ee3\u7801\u6f14\u793a"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},c.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),c.a.createElement("h2",{id:"\u57fa\u7840\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u7840\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u7840\u7528\u6cd5")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState, useEffect } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nconst Children1 = function(props: { fn: () => void }) {\n  const [state, updateState] = useState<null | number>(null);\n\n  useEffect(() => {\n    updateState(Math.random());\n  }, [props.fn]);\n\n  return (\n    <>\n      <p>i'm is children1, this is i random number {state}</p>\n    </>\n  );\n};\n\nexport default function() {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(() => {\n    updateCount(count + 1);\n  });\n\n  return (\n    <>\n      <h1>{count}</h1>\n      <Children1 fn={fn} />\n      <p>\u8fde\u7eed\u70b9\u51fb\u4e4b\u540e\uff0c\u5b50\u7ec4\u4ef6\u5e76\u4e0d\u4f1a\u88ab\u6e32\u67d3</p>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState, useEffect } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nconst Children1 = function (props) {\n  const [state, updateState] = useState(null);\n  useEffect(() => {\n    updateState(Math.random());\n  }, [props.fn]);\n  return (\n    <>\n      <p>i'm is children1, this is i random number {state}</p>\n    </>\n  );\n};\n\nexport default function () {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(() => {\n    updateCount(count + 1);\n  });\n  return (\n    <>\n      <h1>{count}</h1>\n      <Children1 fn={fn} />\n      <p>\u8fde\u7eed\u70b9\u51fb\u4e4b\u540e\uff0c\u5b50\u7ec4\u4ef6\u5e76\u4e0d\u4f1a\u88ab\u6e32\u67d3</p>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example-basic",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u57fa\u7840\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u5305\u542b\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.4","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(s,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u9632\u6296\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u9632\u6296\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u9632\u6296\u7528\u6cd5")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nexport default function() {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    { action: 'debounce' },\n  );\n\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\nexport default function () {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    {\n      action: 'debounce',\n    },\n  );\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example-debounce",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u9632\u6296\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u51fd\u6570\u9632\u6296\u52a8</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.4","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(i,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u8282\u6d41\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u8282\u6d41\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u8282\u6d41\u7528\u6cd5")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nexport default function() {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    { action: 'throttle', wait: 1000 },\n  );\n\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\nexport default function () {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    {\n      action: 'throttle',\n      wait: 1000,\n    },\n  );\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example-throttle",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u8282\u6d41\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u51fd\u6570\u8282\u6d41</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.4","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(l,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u9501\u5b9a\u51fd\u6570"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u9501\u5b9a\u51fd\u6570"},c.a.createElement("span",{className:"icon icon-link"})),"\u9501\u5b9a\u51fd\u6570")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button, message } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\nconst deloy = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\nexport default function() {\n  const [message, updateMessage] = useState('\u5c1a\u672a\u5f00\u59cb');\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    async () => {\n      updateMessage('\u5f00\u59cb\u6267\u884c');\n      await deloy(2000);\n      updateCount(count + 1);\n      updateMessage('\u6267\u884c\u7ed3\u675f');\n    },\n    { action: 'lock' },\n  );\n\n  return (\n    <>\n      <h1>{message}</h1>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nconst deloy = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nexport default function () {\n  const [message, updateMessage] = useState('\u5c1a\u672a\u5f00\u59cb');\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    async () => {\n      updateMessage('\u5f00\u59cb\u6267\u884c');\n      await deloy(2000);\n      updateCount(count + 1);\n      updateMessage('\u6267\u884c\u7ed3\u675f');\n    },\n    {\n      action: 'lock',\n    },\n  );\n  return (\n    <>\n      <h1>{message}</h1>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example-lock",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u9501\u5b9a\u51fd\u6570","desc.zh-CN":'<div class="markdown"><p>\u9501\u5b9a\u5f02\u6b65\u51fd\u6570\uff0c\u5728\u8be5\u51fd\u6570\u6267\u884c\u7ed3\u675f\u4e4b\u524d\u4f1a\u5ffd\u7565\u6389\u6240\u6709\u7684\u540e\u7eed\u8bf7\u6c42\u3002</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.4","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(d,null)))}},bbyW:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("ODXe"),c=t("q1tI"),u=t.n(c),o=t("qPJ8");n["default"]=function(){var e=Object(c["useState"])(0),n=Object(r["a"])(e,2),t=n[0],s=n[1],i=Object(o["c"])((()=>{s(t+1)}),{action:"throttle",wait:1e3});return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,t),u.a.createElement(a["a"],{type:"primary",onClick:i},"\u8fde\u7eed\u70b9\u51fb"))}},fQck:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("ODXe"),c=t("q1tI"),u=t.n(c),o=t("qPJ8"),s=function(e){var n=Object(c["useState"])(null),t=Object(r["a"])(n,2),a=t[0],o=t[1];return Object(c["useEffect"])((()=>{o(Math.random())}),[e.fn]),u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"i'm is children1, this is i random number ",a))};n["default"]=function(){var e=Object(c["useState"])(0),n=Object(r["a"])(e,2),t=n[0],i=n[1],l=Object(o["c"])((()=>{i(t+1)}));return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,t),u.a.createElement(s,{fn:l}),u.a.createElement("p",null,"\u8fde\u7eed\u70b9\u51fb\u4e4b\u540e\uff0c\u5b50\u7ec4\u4ef6\u5e76\u4e0d\u4f1a\u88ab\u6e32\u67d3"),u.a.createElement(a["a"],{type:"primary",onClick:l},"\u8fde\u7eed\u70b9\u51fb"))}},leNw:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("o0o1"),c=t.n(r),u=t("HaE+"),o=t("ODXe"),s=t("q1tI"),i=t.n(s),l=t("qPJ8"),d=e=>new Promise((n=>setTimeout(n,e)));n["default"]=function(){var e=Object(s["useState"])("\u5c1a\u672a\u5f00\u59cb"),n=Object(o["a"])(e,2),t=n[0],r=n[1],m=Object(s["useState"])(0),f=Object(o["a"])(m,2),p=f[0],h=f[1],v=Object(l["c"])(Object(u["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r("\u5f00\u59cb\u6267\u884c"),e.next=3,d(2e3);case 3:h(p+1),r("\u6267\u884c\u7ed3\u675f");case 5:case"end":return e.stop()}}),e)}))),{action:"lock"});return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,t),i.a.createElement("h1",null,p),i.a.createElement(a["a"],{type:"primary",onClick:v},"\u8fde\u7eed\u70b9\u51fb"))}},qPJ8:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return b})),t.d(n,"d",(function(){return C})),t.d(n,"e",(function(){return w}));var a=t("q1tI");function r(e){Object(a["useEffect"])(e,[])}var c=r;function u(e){c((()=>{e()}))}var o=u,s=t("o0o1"),i=t.n(s),l=t("HaE+"),d=(e,n)=>e.every(((t,a)=>Object.is(e[a],n[a])));function m(e,n){var t=Object(a["useRef"])(void 0),r=Object(a["useRef"])(void 0);return r.current&&n&&d(n,r.current)||(t.current=e(),r.current=n),t.current}var f=m;function p(e,n){return f((()=>e),n)}var h=p,v=t("LvDl");function E(e,n){var t,r=Object(a["useRef"])(e),c=Object(a["useRef"])(!1);r.current=e;var u,o,s,d,m=null!==(t=null===n||void 0===n?void 0:n.wait)&&void 0!==t?t:1e3;return"lock"===(null===n||void 0===n?void 0:n.action)?h((function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];Object(l["a"])(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!c.current){e.next=2;break}return e.abrupt("return");case 2:return c.current=!0,e.prev=3,e.next=6,r.current(...n);case 6:c.current=!1,e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](3),c.current=!1,e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))()}),[r]):"debounce"===(null===n||void 0===n?void 0:n.action)?h(Object(v["debounce"])((function(){return r.current(...arguments)}),m,{leading:null!==(u=null===n||void 0===n?void 0:n.leading)&&void 0!==u&&u,trailing:null===(o=null===n||void 0===n?void 0:n.leading)||void 0===o||o}),[r]):"throttle"===(null===n||void 0===n?void 0:n.action)?h(Object(v["throttle"])((function(){return r.current(...arguments)}),m,{leading:null===(s=null===n||void 0===n?void 0:n.leading)||void 0===s||s,trailing:null===(d=null===n||void 0===n?void 0:n.trailing)||void 0===d||d}),[r]):h((function(){return r.current(...arguments)}),[r])}var b=E;function j(e,n){var t=Object(a["useRef"])(!1),r=Object(a["useRef"])(),c=Object(a["useRef"])(e);c.current=e;var u=b((()=>t.current)),o=b((()=>{t.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{t.current=!0,c.current()}),n.delay)})),s=b((()=>{t.current=null,r.current&&clearTimeout(r.current),r.current=null}));return Object(a["useEffect"])((()=>{if(!n.manual)return o(),s}),[n.delay]),{isReady:u,cancel:s,run:o}}var C=j,k=t("ODXe");function O(){var e=Object(a["useState"])(0),n=Object(k["a"])(e,2),t=n[1];return b((()=>t((e=>(e+1)%1e6))))}var w=O}}]);