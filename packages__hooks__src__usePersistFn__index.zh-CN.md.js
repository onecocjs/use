(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14,11,12,13],{RQnF:function(e,n,t){"use strict";t.r(n);var a=t("wx14"),r=t("q1tI"),c=t.n(r),u=(t("B2uJ"),t("+su7"),t("qOys"),t("5Yjd")),o=t.n(u),i=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("vpVq")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),s=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("TyyX")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)})),l=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("s043")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"usepersistfn"},c.a.createElement("a",{"aria-hidden":"true",href:"#usepersistfn"},c.a.createElement("span",{className:"icon icon-link"})),"usePersistFn"),c.a.createElement("h1",{id:"\u4ee3\u7801\u6f14\u793a"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},c.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),c.a.createElement("h2",{id:"\u57fa\u7840\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u7840\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u7840\u7528\u6cd5")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState, useEffect } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nconst Children1 = function(props: { fn: () => void }) {\n  const [state, updateState] = useState<null | number>(null);\n\n  useEffect(() => {\n    updateState(Math.random());\n  }, [props.fn]);\n\n  return (\n    <>\n      <p>i'm is children1, this is i random number {state}</p>\n    </>\n  );\n};\n\nexport default function() {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(() => {\n    updateCount(count + 1);\n  });\n\n  return (\n    <>\n      <h1>{count}</h1>\n      <Children1 fn={fn} />\n      <p>\u8fde\u7eed\u70b9\u51fb\u4e4b\u540e\uff0c\u5b50\u7ec4\u4ef6\u5e76\u4e0d\u4f1a\u88ab\u6e32\u67d3</p>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState, useEffect } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nconst Children1 = function (props) {\n  const [state, updateState] = useState(null);\n  useEffect(() => {\n    updateState(Math.random());\n  }, [props.fn]);\n  return (\n    <>\n      <p>i'm is children1, this is i random number {state}</p>\n    </>\n  );\n};\n\nexport default function () {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(() => {\n    updateCount(count + 1);\n  });\n  return (\n    <>\n      <h1>{count}</h1>\n      <Children1 fn={fn} />\n      <p>\u8fde\u7eed\u70b9\u51fb\u4e4b\u540e\uff0c\u5b50\u7ec4\u4ef6\u5e76\u4e0d\u4f1a\u88ab\u6e32\u67d3</p>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example01-2",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u57fa\u7840\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u5305\u542b\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.5","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(i,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u9632\u6296\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u9632\u6296\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u9632\u6296\u7528\u6cd5")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nexport default function() {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    { action: 'debounce' },\n  );\n\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\nexport default function () {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    {\n      action: 'debounce',\n    },\n  );\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example02",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u9632\u6296\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u51fd\u6570\u9632\u6296\u52a8</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.5","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(s,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u8282\u6d41\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u8282\u6d41\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u8282\u6d41\u7528\u6cd5")),c.a.createElement(o.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\n\nexport default function() {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    { action: 'throttle', wait: 1000 },\n  );\n\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { usePersistFn } from '@onecocjs/use';\nexport default function () {\n  const [count, updateCount] = useState(0);\n  const fn = usePersistFn(\n    () => {\n      updateCount(count + 1);\n    },\n    {\n      action: 'throttle',\n      wait: 1000,\n    },\n  );\n  return (\n    <>\n      <h1>{count}</h1>\n      <Button type=\"primary\" onClick={fn}>\n        \u8fde\u7eed\u70b9\u51fb\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example03",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u8282\u6d41\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u51fd\u6570\u8282\u6d41</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.5","@onecocjs/use":"0.0.0"},files:{}}),c.a.createElement(l,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"\u51fd\u6570\u7b7e\u540d"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u51fd\u6570\u7b7e\u540d"},c.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570\u7b7e\u540d")))}},TyyX:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("ODXe"),c=t("q1tI"),u=t.n(c),o=t("qPJ8");n["default"]=function(){var e=Object(c["useState"])(0),n=Object(r["a"])(e,2),t=n[0],i=n[1],s=Object(o["c"])((()=>{i(t+1)}),{action:"debounce"});return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,t),u.a.createElement(a["a"],{type:"primary",onClick:s},"\u8fde\u7eed\u70b9\u51fb"))}},qPJ8:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return v})),t.d(n,"d",(function(){return E})),t.d(n,"e",(function(){return C}));var a=t("q1tI");function r(e){Object(a["useEffect"])(e,[])}var c=r;function u(e){c((()=>{e()}))}var o=u,i=(e,n)=>e.every(((t,a)=>Object.is(e[a],n[a])));function s(e,n){var t=Object(a["useRef"])(void 0),r=Object(a["useRef"])(void 0);return r.current&&n&&i(n,r.current)||(t.current=e(),r.current=n),t.current}var l=s;function d(e,n){return l((()=>e),n)}var m=d,f=t("LvDl");function p(e,n){var t,r=Object(a["useRef"])(e);r.current=e;var c,u,o,i,s=null!==(t=null===n||void 0===n?void 0:n.wait)&&void 0!==t?t:1e3;return"debounce"===(null===n||void 0===n?void 0:n.action)?m(Object(f["debounce"])((function(){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return null===(e=r.current)||void 0===e?void 0:e.call(r,...t)}),s,{leading:null!==(c=null===n||void 0===n?void 0:n.leading)&&void 0!==c&&c,trailing:null===(u=null===n||void 0===n?void 0:n.leading)||void 0===u||u}),[r]):"throttle"===(null===n||void 0===n?void 0:n.action)?m(Object(f["throttle"])((function(){return r.current(...arguments)}),s,{leading:null===(o=null===n||void 0===n?void 0:n.leading)||void 0===o||o,trailing:null===(i=null===n||void 0===n?void 0:n.trailing)||void 0===i||i}),[r]):m((function(){return r.current(...arguments)}),[r])}var v=p;function h(e,n){var t=Object(a["useRef"])(!1),r=Object(a["useRef"])(),c=Object(a["useRef"])(e);c.current=e;var u=v((()=>t.current)),o=v((()=>{t.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((()=>{t.current=!0,c.current()}),n.delay)})),i=v((()=>{t.current=null,r.current&&clearTimeout(r.current),r.current=null}));return Object(a["useEffect"])((()=>{if(!n.manual)return o(),i}),[n.delay]),{isReady:u,cancel:i,run:o}}var E=h,j=t("ODXe");function b(){var e=Object(a["useState"])(0),n=Object(j["a"])(e,2),t=n[1];return v((()=>t((e=>(e+1)%1e6))))}var C=b},s043:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("ODXe"),c=t("q1tI"),u=t.n(c),o=t("qPJ8");n["default"]=function(){var e=Object(c["useState"])(0),n=Object(r["a"])(e,2),t=n[0],i=n[1],s=Object(o["c"])((()=>{i(t+1)}),{action:"throttle",wait:1e3});return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,t),u.a.createElement(a["a"],{type:"primary",onClick:s},"\u8fde\u7eed\u70b9\u51fb"))}},vpVq:function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("ODXe"),c=t("q1tI"),u=t.n(c),o=t("qPJ8"),i=function(e){var n=Object(c["useState"])(null),t=Object(r["a"])(n,2),a=t[0],o=t[1];return Object(c["useEffect"])((()=>{o(Math.random())}),[e.fn]),u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"i'm is children1, this is i random number ",a))};n["default"]=function(){var e=Object(c["useState"])(0),n=Object(r["a"])(e,2),t=n[0],s=n[1],l=Object(o["c"])((()=>{s(t+1)}));return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",null,t),u.a.createElement(i,{fn:l}),u.a.createElement("p",null,"\u8fde\u7eed\u70b9\u51fb\u4e4b\u540e\uff0c\u5b50\u7ec4\u4ef6\u5e76\u4e0d\u4f1a\u88ab\u6e32\u67d3"),u.a.createElement(a["a"],{type:"primary",onClick:l},"\u8fde\u7eed\u70b9\u51fb"))}}}]);