(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28,27],{"4IGE":function(e,n,t){"use strict";t.r(n);t("+L6B");var a=t("2/Rp"),r=t("o0o1"),c=t.n(r),l=t("HaE+"),u=t("ODXe"),o=t("q1tI"),s=t.n(o),i=t("tXm+");function m(e){var n=Object(o["useRef"])(!1);return Object(i["a"])(Object(l["a"])(c.a.mark((function t(){var a,r=arguments;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.current){t.next=2;break}return t.abrupt("return");case 2:return n.current=!0,t.prev=3,t.next=6,e(...r);case 6:return a=t.sent,n.current=!1,t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t["catch"](3),n.current=!1,t.t0;case 15:case"end":return t.stop()}}),t,null,[[3,11]])}))))}var d=m,f=e=>new Promise(((n,t)=>setTimeout(n,e)));n["default"]=function(){var e=Object(o["useState"])(0),n=Object(u["a"])(e,2),t=n[0],r=n[1],i=d(Object(l["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r(t+1),e.next=3,f(1e3);case 3:case"end":return e.stop()}}),e)}))));return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,t),s.a.createElement(a["a"],{type:"primary",onClick:i},"\u63d0\u4ea4"))}},"9eiG":function(e,n,t){"use strict";t.r(n);var a=t("wx14"),r=t("q1tI"),c=t.n(r),l=(t("B2uJ"),t("+su7"),t("qOys")),u=t.n(l),o=t("5Yjd"),s=t.n(o),i=c.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),a=e(t("4IGE")),r=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(r)}));n["default"]=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"uselockfn"},c.a.createElement("a",{"aria-hidden":"true",href:"#uselockfn"},c.a.createElement("span",{className:"icon icon-link"})),"useLockFn"),c.a.createElement("p",null,"\u7528\u4e8e\u7ed9\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\u589e\u52a0\u7ade\u6001\u9501\uff0c\u9632\u6b62\u5e76\u53d1\u6267\u884c\u3002"),c.a.createElement("h1",{id:"\u4ee3\u7801\u6f14\u793a"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},c.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),c.a.createElement("h2",{id:"\u57fa\u7840\u7528\u6cd5"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u7840\u7528\u6cd5"},c.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u7840\u7528\u6cd5")),c.a.createElement(s.a,Object(a["a"])({source:{tsx:"import React, { useState } from 'react';\nimport useLockFn from '@onecocjs/use.lockfn';\nimport { Button } from 'antd';\n\nconst deloy = (ms: number) =>\n  new Promise((resolve, reject) => setTimeout(resolve, ms));\n\nexport default function() {\n  const [count, setCount] = useState(0);\n  const locked = useLockFn(async () => {\n    setCount(count + 1);\n    await deloy(1000);\n  });\n\n  return (\n    <>\n      <p>{count}</p>\n      <Button type=\"primary\" onClick={locked}>\n        \u63d0\u4ea4\n      </Button>\n    </>\n  );\n}\n",jsx:"import React, { useState } from 'react';\nimport useLockFn from '@onecocjs/use.lockfn';\nimport { Button } from 'antd';\n\nconst deloy = (ms) => new Promise((resolve, reject) => setTimeout(resolve, ms));\n\nexport default function () {\n  const [count, setCount] = useState(0);\n  const locked = useLockFn(async () => {\n    setCount(count + 1);\n    await deloy(1000);\n  });\n  return (\n    <>\n      <p>{count}</p>\n      <Button type=\"primary\" onClick={locked}>\n        \u63d0\u4ea4\n      </Button>\n    </>\n  );\n}\n"}},{path:"/_demos/example-basic-4",CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.5","@onecocjs/use.lockfn":"0.0.1-alpha.1"},files:{}}),c.a.createElement(i,null)),c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u7b7e\u540d"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u7b7e\u540d"},c.a.createElement("span",{className:"icon icon-link"})),"\u7b7e\u540d"),c.a.createElement(u.a,{code:"function useLockFn<T extends (...args: any[]) => Promise<R>>(fn: T): Promise<R>;\n",lang:"ts"}),c.a.createElement("h2",{id:"\u53c2\u6570"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u53c2\u6570"},c.a.createElement("span",{className:"icon icon-link"})),"\u53c2\u6570"),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u53c2\u6570"),c.a.createElement("th",null,"\u8bf4\u660e"),c.a.createElement("th",null,"\u7c7b\u578b"),c.a.createElement("th",null,"\u5fc5\u8981"),c.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"fn"),c.a.createElement("td",null,"\u5f02\u6b65\u51fd\u6570"),c.a.createElement("td",null,c.a.createElement("code",null,"(...args: any[]) => Promise<R>")),c.a.createElement("td",null,"true"),c.a.createElement("td",null,"-")))),c.a.createElement("h2",{id:"\u7ed3\u679c"},c.a.createElement("a",{"aria-hidden":"true",href:"#\u7ed3\u679c"},c.a.createElement("span",{className:"icon icon-link"})),"\u7ed3\u679c"),c.a.createElement("p",null,c.a.createElement("code",null,"fn")," \u51fd\u6570\u7684\u8fd4\u56de\u503c")))}},"HaE+":function(e,n,t){"use strict";function a(e,n,t,a,r,c,l){try{var u=e[c](l),o=u.value}catch(s){return void t(s)}u.done?n(o):Promise.resolve(o).then(a,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,c){var l=e.apply(n,t);function u(e){a(l,r,c,u,o,"next",e)}function o(e){a(l,r,c,u,o,"throw",e)}u(void 0)}))}}t.d(n,"a",(function(){return r}))},"tXm+":function(e,n,t){"use strict";var a=t("q1tI");function r(e){var n=Object(a["useRef"])(e);n.current=e;var t=Object(a["useRef"])(null);return t.current||(t.current=function(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return null===(e=n.current)||void 0===e?void 0:e.call(n,...a)}),t.current}n["a"]=r}}]);