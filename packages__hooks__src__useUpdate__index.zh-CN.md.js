(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19,18],{lnMU:function(e,n,t){"use strict";t.r(n);var r=t("wx14"),a=t("q1tI"),u=t.n(a),c=(t("B2uJ"),t("+su7"),t("qOys")),l=t.n(c),i=t("5Yjd"),o=t.n(i),d=u.a.memo((function(){var e=t("TqRt"),n=e(t("q1tI")),r=e(t("wkFt")),a=function(){return n["default"].createElement(r["default"],null)};return n["default"].createElement(a)}));n["default"]=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"markdown"},u.a.createElement("h1",{id:"useupdate"},u.a.createElement("a",{"aria-hidden":"true",href:"#useupdate"},u.a.createElement("span",{className:"icon icon-link"})),"useUpdate"),u.a.createElement("p",null,"\u5f3a\u5236\u7ec4\u4ef6\u5237\u65b0 , \u53ef\u4ee5\u7406\u89e3\u4e3a ",u.a.createElement("code",null,"class component")," \u4e2d\u7684 ",u.a.createElement("code",null,"this.forceUpdate()")," \u51fd\u6570"),u.a.createElement("h1",{id:"\u4ee3\u7801\u6f14\u793a"},u.a.createElement("a",{"aria-hidden":"true",href:"#\u4ee3\u7801\u6f14\u793a"},u.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7801\u6f14\u793a"),u.a.createElement("h2",{id:"\u57fa\u7840\u7528\u6cd5"},u.a.createElement("a",{"aria-hidden":"true",href:"#\u57fa\u7840\u7528\u6cd5"},u.a.createElement("span",{className:"icon icon-link"})),"\u57fa\u7840\u7528\u6cd5")),u.a.createElement(o.a,Object(r["a"])({source:{tsx:"import React, { useRef } from 'react';\nimport { Button } from 'antd';\nimport { useUpdate } from '@onecocjs/use';\n\nexport default () => {\n  const value = useRef(false);\n  const update = useUpdate();\n\n  return (\n    <div>\n      <h1>{JSON.stringify(value.current)}</h1>\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          value.current = !value.current;\n          update();\n        }}\n      >\n        \u5207\u6362\n      </Button>\n    </div>\n  );\n};\n",jsx:"import React, { useRef } from 'react';\nimport { Button } from 'antd';\nimport { useUpdate } from '@onecocjs/use';\nexport default () => {\n  const value = useRef(false);\n  const update = useUpdate();\n  return (\n    <div>\n      <h1>{JSON.stringify(value.current)}</h1>\n      <Button\n        type=\"primary\"\n        onClick={() => {\n          value.current = !value.current;\n          update();\n        }}\n      >\n        \u5207\u6362\n      </Button>\n    </div>\n  );\n};\n"}},{path:"/_demos/example01-4",title:"Default usage",desc:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"title.zh-CN":"\u57fa\u7840\u7528\u6cd5","desc.zh-CN":'<div class="markdown"><p>\u5f3a\u5236\u7ec4\u4ef6\u5237\u65b0</p></div>',CSSInDependencies:["antd/dist/antd.css"],dependencies:{react:">=16.9.0","react-dom":">=16.9.0",antd:"4.8.5","@onecocjs/use":"0.0.0"},files:{}}),u.a.createElement(d,null)),u.a.createElement("div",{className:"markdown"},u.a.createElement("h1",{id:"\u51fd\u6570\u7b7e\u540d"},u.a.createElement("a",{"aria-hidden":"true",href:"#\u51fd\u6570\u7b7e\u540d"},u.a.createElement("span",{className:"icon icon-link"})),"\u51fd\u6570\u7b7e\u540d"),u.a.createElement(l.a,{code:"useUpdate():() => void;\n",lang:"ts"})))}},qPJ8:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return p})),t.d(n,"d",(function(){return h})),t.d(n,"e",(function(){return O}));var r=t("q1tI");function a(e){Object(r["useEffect"])(e,[])}var u=a;function c(e){u((()=>{e()}))}var l=c,i=(e,n)=>e.every(((t,r)=>Object.is(e[r],n[r])));function o(e,n){var t=Object(r["useRef"])(void 0),a=Object(r["useRef"])(void 0);return a.current&&n&&i(n,a.current)||(t.current=e(),a.current=n),t.current}var d=o;function s(e,n){return d((()=>e),n)}var f=s,v=t("LvDl");function m(e,n){var t,a=Object(r["useRef"])(e);a.current=e;var u,c,l,i,o=null!==(t=null===n||void 0===n?void 0:n.wait)&&void 0!==t?t:1e3;return"debounce"===(null===n||void 0===n?void 0:n.action)?f(Object(v["debounce"])((function(){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return null===(e=a.current)||void 0===e?void 0:e.call(a,...t)}),o,{leading:null!==(u=null===n||void 0===n?void 0:n.leading)&&void 0!==u&&u,trailing:null===(c=null===n||void 0===n?void 0:n.leading)||void 0===c||c}),[a]):"throttle"===(null===n||void 0===n?void 0:n.action)?f(Object(v["throttle"])((function(){return a.current(...arguments)}),o,{leading:null===(l=null===n||void 0===n?void 0:n.leading)||void 0===l||l,trailing:null===(i=null===n||void 0===n?void 0:n.trailing)||void 0===i||i}),[a]):f((function(){return a.current(...arguments)}),[a])}var p=m;function E(e,n){var t=Object(r["useRef"])(!1),a=Object(r["useRef"])(),u=Object(r["useRef"])(e);u.current=e;var c=p((()=>t.current)),l=p((()=>{t.current=!1,a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{t.current=!0,u.current()}),n.delay)})),i=p((()=>{t.current=null,a.current&&clearTimeout(a.current),a.current=null}));return Object(r["useEffect"])((()=>{if(!n.manual)return l(),i}),[n.delay]),{isReady:c,cancel:i,run:l}}var h=E,b=t("ODXe");function j(){var e=Object(r["useState"])(0),n=Object(b["a"])(e,2),t=n[1];return p((()=>t((e=>(e+1)%1e6))))}var O=j},wkFt:function(e,n,t){"use strict";t.r(n);t("+L6B");var r=t("2/Rp"),a=t("q1tI"),u=t.n(a),c=t("qPJ8");n["default"]=()=>{var e=Object(a["useRef"])(!1),n=Object(c["e"])();return u.a.createElement("div",null,u.a.createElement("h1",null,JSON.stringify(e.current)),u.a.createElement(r["a"],{type:"primary",onClick:()=>{e.current=!e.current,n()}},"\u5207\u6362"))}}}]);