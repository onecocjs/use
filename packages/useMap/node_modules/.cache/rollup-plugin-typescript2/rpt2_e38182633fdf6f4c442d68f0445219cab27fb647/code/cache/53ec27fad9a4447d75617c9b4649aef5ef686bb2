{"code":"import { __assign } from \"tslib\";\r\nimport { useRef } from 'react';\r\nimport useForceUpdate from '@onecocjs/use.forceupdate';\r\nimport useMemoized from '@onecocjs/use.memoized';\r\nfunction useMap(initialState) {\r\n    var initialMap = useMemoized(function () {\r\n        if (initialState) {\r\n            return new Map(initialState);\r\n        }\r\n        return new Map();\r\n    });\r\n    var refMap = useRef(initialMap);\r\n    var forceUpdate = useForceUpdate();\r\n    var memoizedAction = useMemoized(function () { return ({\r\n        set: function (key, value) {\r\n            refMap.current.set(key, value);\r\n            forceUpdate();\r\n            return refMap.current;\r\n        },\r\n        get: function (key) {\r\n            return refMap.current.get(key);\r\n        },\r\n        del: function (key) {\r\n            refMap.current.delete(key);\r\n            forceUpdate();\r\n            return refMap.current;\r\n        },\r\n        reset: function () {\r\n            refMap.current = new Map(initialState);\r\n            forceUpdate();\r\n            return refMap.current;\r\n        },\r\n    }); });\r\n    return __assign({ mapState: refMap.current }, memoizedAction);\r\n}\r\nexport default useMap;\r\n//# sourceMappingURL=index.js.map","references":["/Users/ityuany/GitRepository/use/node_modules/@types/react/index.d.ts","/Users/ityuany/GitRepository/use/packages/useForceUpdate/lib/index.d.ts","/Users/ityuany/GitRepository/use/packages/useMemoized/lib/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAC/B,OAAO,cAAc,MAAM,2BAA2B,CAAC;AACvD,OAAO,WAAW,MAAM,wBAAwB,CAAC;AAEjD,SAAS,MAAM,CAAO,YAAuB;IAC3C,IAAM,UAAU,GAAG,WAAW,CAAC;QAC7B,IAAI,YAAY,EAAE;YAChB,OAAO,IAAI,GAAG,CAAO,YAAY,CAAC,CAAC;SACpC;QACD,OAAO,IAAI,GAAG,EAAQ,CAAC;IACzB,CAAC,CAAC,CAAC;IACH,IAAM,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;IAClC,IAAM,WAAW,GAAG,cAAc,EAAE,CAAC;IAErC,IAAM,cAAc,GAAG,WAAW,CAAC,cAAM,OAAA,CAAC;QACxC,GAAG,EAAE,UAAS,GAAM,EAAE,KAAQ;YAC5B,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC/B,WAAW,EAAE,CAAC;YACd,OAAO,MAAM,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,GAAG,EAAE,UAAS,GAAM;YAClB,OAAO,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACjC,CAAC;QACD,GAAG,EAAE,UAAS,GAAM;YAClB,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC3B,WAAW,EAAE,CAAC;YACd,OAAO,MAAM,CAAC,OAAO,CAAC;QACxB,CAAC;QACD,KAAK,EAAE;YACL,MAAM,CAAC,OAAO,GAAG,IAAI,GAAG,CAAO,YAAY,CAAC,CAAC;YAC7C,WAAW,EAAE,CAAC;YACd,OAAO,MAAM,CAAC,OAAO,CAAC;QACxB,CAAC;KACF,CAAC,EAnBuC,CAmBvC,CAAC,CAAC;IAEJ,kBACE,QAAQ,EAAE,MAAM,CAAC,OAAO,IACrB,cAAc,EACjB;AACJ,CAAC;AAED,eAAe,MAAM,CAAC\"}","dts":{"name":"/Users/ityuany/GitRepository/use/packages/useMap/index.d.ts","writeByteOrderMark":false,"text":"declare function useMap<K, V>(initialState?: [K, V][]): {\r\n    set: (key: K, value: V) => Map<K, V>;\r\n    get: (key: K) => V;\r\n    del: (key: K) => Map<K, V>;\r\n    reset: () => Map<K, V>;\r\n    mapState: Map<K, V>;\r\n};\r\nexport default useMap;\r\n"}}
