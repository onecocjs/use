{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { useRef } from 'react';\n\nfunction useMemoized<T>(factory: () => T, deps: any[] = []) {\n  const { current } = useRef({\n    deps,\n    obj: undefined as undefined | T,\n    initialized: false,\n  });\n  if (current.initialized === false || !depsShallowEqual(current.deps, deps)) {\n    current.deps = deps;\n    current.obj = factory();\n    current.initialized = true;\n  }\n  return current.obj as T;\n}\n\nfunction depsShallowEqual(prevDeps: any[], currDeps: any[]) {\n  if (prevDeps === currDeps) return true;\n  for (let index = 0; index < currDeps.length; index++) {\n    const prev = prevDeps[index];\n    const curr = currDeps[index];\n    if (prev === curr) {\n      continue;\n    }\n    return false;\n  }\n\n  return true;\n}\n\nexport default useMemoized;\n"],"names":["factory","deps","current","useRef","obj","undefined","initialized","prevDeps","currDeps","index","length","depsShallowEqual"],"mappings":"2GAEA,SAAwBA,EAAkBC,gBAAAA,MAChC,IAAAC,EAAYC,SAAO,CACzBF,OACAG,SAAKC,EACLC,aAAa,YAOf,OAL4B,IAAxBJ,EAAQI,aAQd,SAA0BC,EAAiBC,GACzC,GAAID,IAAaC,EAAU,OAAO,EAClC,IAAK,IAAIC,EAAQ,EAAGA,EAAQD,EAASE,OAAQD,IAAS,CAGpD,GAFaF,EAASE,KACTD,EAASC,GAItB,OAAO,EAGT,OAAO,EAnB+BE,CAAiBT,EAAQD,KAAMA,KACnEC,EAAQD,KAAOA,EACfC,EAAQE,IAAMJ,IACdE,EAAQI,aAAc,GAEjBJ,EAAQE"}